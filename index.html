<!DOCTYPE html>
<html>
<head>
    <title>Log Analysis Dashboard</title>
    <style>
        body {
            font-family: "Segoe UI", Arial, sans-serif;
            margin: 40px;
            background: #0d1117;
            color: #f0f6fc;
        }
        h1 {
            margin-bottom: 20px;
            color: #58a6ff;
        }
        .container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
            gap: 20px;
        }
        .card {
            background: #161b22;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 0 12px rgba(88, 166, 255, 0.15);
            border: 1px solid #30363d;
            transition: 0.2s;
        }
        .card:hover {
            box-shadow: 0 0 15px rgba(88, 166, 255, 0.35);
            transform: scale(1.02);
        }
        .title {
            font-weight: bold;
            color: #8b949e;
        }
        .value {
            font-size: 1.4rem;
            margin-top: 5px;
            color: #c9d1d9;
        }
    </style>
</head>
<body>

<h1>ðŸ“Š Log Analysis Dashboard</h1>

<div id="dashboard" class="container">Loading...</div>

<script>
async function loadSummary() {
    const res = await fetch("summary.json?v=" + Date.now());
    const data = await res.json();

    document.getElementById("dashboard").innerHTML = `
        ${createCard("Total Logs", data.total_logs)}
        ${createCard("Info Logs", data.INFO)}
        ${createCard("Warnings", data.WARNING)}
        ${createCard("Errors", data.ERROR)}
        ${createCard("Error Rate (%)", data.error_rate_percent)}
        ${createCard("Top Modules", data.top_3_modules.map(x => x[0]).join(", "))}
        ${createCard("Top Errors", data.top_3_errors.map(x => x[0]).join(", "))}
        ${createCard("Avg Response Time (ms)", data.avg_response_time_ms)}
        ${createCard("Slow Requests", data.slow_requests)}
    `;
}

function createCard(title, value) {
    return `
        <div class="card">
            <div class="title">${title}</div>
            <div class="value">${value}</div>
        </div>
    `;
}

loadSummary();
</script>

</body>
</html>
